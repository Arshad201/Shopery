import{a as u,r as m,u as y,t as v,j as e,o as w,x as z}from"./index-59e27120.js";import{P as C}from"./PageHeader-66513bad.js";const I=()=>{const{error:t}=u(s=>s.userReducer.placeOrder),{billingInfo:a}=u(s=>s.userReducer.user),[n,N]=m.useState({firstName:a.firstName?a.firstName:"",lastName:a.lastName?a.lastName:"",companyName:a.companyName?a.companyName:"",streetAddress:a.streetAddress?a.streetAddress:"",country:a.country?a.country:"",state:a.state?a.state:"",zipCode:a.zipCode?a.zipCode:"",email:a.email?a.email:"",phoneNumber:a.phoneNumber?a.phoneNumber:"",orderNotes:""}),[x,d]=m.useState(""),p=y(),{data:l,status:b}=u(s=>s.productReducer.products.cartProducts),[c,P]=m.useState(40);let i=0;l.forEach(s=>{const f=(s.price-s.price*s.additionalInfo.discount/100)*s.quantity;i=i+f});const r=s=>{N({...n,[s.target.name]:s.target.value}),console.log(n)},j=s=>{if(s.preventDefault(),x===""){p(w({show:!0,type:"error",msg:"Choose the Payment Method!"}));return}const h=[];l.map(o=>{const g={productId:o._id,name:o.name,image:o.images[0].url,quantity:o.quantity,price:o.price};h.push(g)}),p(z({billingInfo:n,orderItems:h,paymentInfo:{taxPrice:0,shippingPrice:c,totalPrice:i,paymentType:x,paymentStatus:"Pending"}}))};return m.useEffect(()=>{p(v())},[]),e.jsxs("section",{className:"checkout",children:[e.jsx(C,{}),e.jsxs("div",{className:"checkout-wrapper",children:[e.jsxs("div",{className:"billing-info",children:[e.jsxs("form",{children:[e.jsx("h2",{className:"xxl-fontsize fw-500",children:"Billing Information"}),e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"input-group",children:[e.jsx("label",{htmlFor:"firstName",className:"s-fontsize fw-400",children:"First name"}),e.jsx("input",{type:"text",name:"firstName",id:"firstName",placeholder:"Your first name",value:n.firstName,onChange:s=>r(s)}),e.jsx("span",{className:"error-msg s-fontsize fw-400",children:t.firstName})]}),e.jsxs("div",{className:"input-group",children:[e.jsx("label",{htmlFor:"lastName",className:"s-fontsize fw-400",children:"Last name"}),e.jsx("input",{type:"text",name:"lastName",id:"lastName",placeholder:"Your last name",value:n.lastName,onChange:s=>r(s)}),e.jsx("span",{className:"error-msg s-fontsize fw-400",children:t.lastName})]}),e.jsxs("div",{className:"input-group",children:[e.jsx("label",{htmlFor:"companyName",className:"s-fontsize fw-400",children:"Company name (Optional)"}),e.jsx("input",{type:"text",name:"companyName",id:"companyName",placeholder:"Company name",value:n.companyName,onChange:s=>r(s)})]})]}),e.jsx("div",{className:"form-row",children:e.jsxs("div",{className:"input-group",children:[e.jsx("label",{htmlFor:"streetAddress",className:"s-fontsize fw-400",children:"Street Address"}),e.jsx("input",{type:"text",name:"streetAddress",id:"streetAddress",placeholder:"Street Address",value:n.streetAddress,onChange:s=>r(s)}),e.jsx("span",{className:"error-msg s-fontsize fw-400",children:t.streetAddress})]})}),e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"input-group",children:[e.jsx("label",{htmlFor:"country",className:"s-fontsize fw-400",children:"Country/Region"}),e.jsxs("select",{name:"country",id:"country",value:n.country,onChange:s=>r(s),children:[e.jsx("option",{value:"select",children:"Select"}),e.jsx("option",{value:"Australia",children:"Australia"}),e.jsx("option",{value:"United States",children:"United States"})]}),e.jsx("span",{className:"error-msg s-fontsize fw-400",children:t.country})]}),e.jsxs("div",{className:"input-group",children:[e.jsx("label",{htmlFor:"states",className:"s-fontsize fw-400",children:"States"}),e.jsxs("select",{name:"state",id:"states",value:n.state,onChange:s=>r(s),children:[e.jsx("option",{value:"sl",children:"Select"}),e.jsx("option",{value:"Au",children:"Australia"}),e.jsx("option",{value:"Us",children:"United States"})]}),e.jsx("span",{className:"error-msg s-fontsize fw-400",children:t.state})]}),e.jsxs("div",{className:"input-group",children:[e.jsx("label",{htmlFor:"zipCode",className:"s-fontsize fw-400",children:"Zip Code"}),e.jsx("input",{type:"text",name:"zipCode",id:"zipcode",placeholder:"Zip Code",value:n.zipCode,onChange:s=>r(s)}),e.jsx("span",{className:"error-msg s-fontsize fw-400",children:t.zipCode})]})]}),e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"input-group",children:[e.jsx("label",{htmlFor:"email",className:"s-fontsize fw-400",children:"Email"}),e.jsx("input",{type:"email",name:"email",id:"email",placeholder:"Email Address",value:n.email,onChange:s=>r(s)}),e.jsx("span",{className:"error-msg s-fontsize fw-400",children:t.email})]}),e.jsxs("div",{className:"input-group",children:[e.jsx("label",{htmlFor:"phoneNumber",className:"s-fontsize fw-400",children:"Phone"}),e.jsx("input",{type:"number",name:"phoneNumber",id:"phoneNumber",placeholder:"Phone Number",value:n.phoneNumber,onChange:s=>r(s)}),e.jsx("span",{className:"error-msg s-fontsize fw-400",children:t.phoneNumber})]})]})]}),e.jsxs("form",{children:[e.jsx("h2",{className:"xxl-fontsize fw-500",children:"Additional Info"}),e.jsx("div",{className:"form-row",children:e.jsxs("div",{className:"input-group",children:[e.jsx("label",{htmlFor:"orderNotes",className:"s-fontsize fw-400",children:"Order Notes (Optional)"}),e.jsx("textarea",{name:"orderNotes",id:"orderNotes",cols:"30",rows:"5",placeholder:"Notes about your order, e.g. special notes for delivery",value:n.orderNotes,onChange:s=>r(s)})]})})]})]}),e.jsxs("div",{className:"order-summary",children:[e.jsxs("div",{className:"product-summary",children:[e.jsx("h2",{className:"xl-fontsize fw-500",children:"Order Summery"}),l==null?void 0:l.map(s=>e.jsxs("div",{className:"product-row",children:[e.jsxs("div",{children:[e.jsx("img",{src:s.images[0].url,alt:""}),e.jsxs("span",{className:"s-fontsize fw-400",children:[s.name," x",s.quantity]})]}),e.jsxs("span",{className:"s-fontsize fw-500",children:["$",s.price-s.price*s.additionalInfo.discount/100]})]},s._id)),e.jsxs("div",{className:"row",children:[e.jsx("span",{className:"s-fontsize fw-400",children:"Subtotal:"}),e.jsxs("span",{className:"s-fontsize fw-500",children:["$",i]})]}),e.jsxs("div",{className:"row",children:[e.jsx("span",{className:"s-fontsize fw-400",children:"Shipping:"}),e.jsx("span",{className:"s-fontsize fw-500",children:c===0?"Free":`+$${c}`})]}),e.jsxs("div",{className:"row",children:[e.jsx("span",{className:"m-fontsize fw-400",children:"Total:"}),e.jsxs("span",{className:"l-fontsize fw-500",children:["$",i+c]})]})]}),e.jsxs("div",{className:"payment-method",children:[e.jsx("h2",{className:"xl-fontsize fw-500",children:"Payment Method"}),e.jsxs("form",{children:[e.jsxs("div",{className:"radio-input-group",children:[e.jsx("input",{type:"radio",name:"pay",id:"cod",value:"COD",onChange:s=>d(s.target.value)}),e.jsx("label",{className:"s-fontsize fw-400",htmlFor:"cod",children:"Cash on Delivery"})]}),e.jsxs("div",{className:"radio-input-group",children:[e.jsx("input",{type:"radio",name:"pay",id:"paypal",value:"Paypal",onChange:s=>d(s.target.value)}),e.jsx("label",{className:"s-fontsize fw-400",htmlFor:"paypal",children:"Paypal"})]}),e.jsxs("div",{className:"radio-input-group",children:[e.jsx("input",{type:"radio",name:"pay",id:"amazonPay",value:"Amazon Pay",onChange:s=>d(s.target.value)}),e.jsx("label",{className:"s-fontsize fw-400",htmlFor:"amazonPay",children:"Amazon Pay"})]})]}),e.jsx("button",{className:"btn",onClick:s=>j(s),children:"Place Order"})]})]})]})]})};export{I as default};
